<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>EscolaRelatosX - Todos Veem</title>
  <!-- (Mantenha o CSS original) -->
</head>
<body>
  <!-- (Mantenha o HTML original) -->

  <script>
    // Banco de dados FAKE usando GitHub Gist (sem configuração)
    const GIST_ID = "gist:70b09108800cf7c758f4ff2f409ffd95"; // Substitua por um Gist ID válido
    let relatos = [];

    // Carrega relatos de um Gist público
    async function carregarRelatos() {
      try {
        const resposta = await fetch(`https://gist.githubusercontent.com/raw/${GIST_ID}/relatos.json`);
        relatos = await resposta.json();
        mostrarRelatos();
      } catch {
        relatos = [];
      }
    }

    // Mostra relatos na tela
    function mostrarRelatos() {
      const divRelatos = document.getElementById('relatos');
      divRelatos.innerHTML = relatos.map(relato => `
        <div class="relato">
          <p><strong>${relato.nome}</strong> - ${relato.turma}</p>
          <p>${relato.texto}</p>
          ${relato.midia ? `<img src="${relato.midia}" width="200">` : ''}
        </div>
      `).join('');
    }

    // Envia relato (simulado)
    document.getElementById('relatoForm').addEventListener('submit', (e) => {
      e.preventDefault();
      alert("Envie este código para o ADM para adicionar seu relato:\n\n" + 
            JSON.stringify({
              nome: document.getElementById('nome').value,
              turma: document.getElementById('turma').value,
              texto: document.getElementById('relato').value
            }, null, 2));
    });

    // Inicia
    carregarRelatos();
  </script>
</body>
</html>